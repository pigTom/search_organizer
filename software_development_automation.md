# ä»£ç å¼€å‘é¢†åŸŸè‡ªåŠ¨åŒ–å®è·µæŒ‡å—

> æœ¬æ–‡æ¡£æ•´ç†äº†è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸä¸­å¯å®ç°è‡ªåŠ¨åŒ–çš„å„ä¸ªç¯èŠ‚ï¼ŒåŒ…å«å…·ä½“æŠ€æœ¯æ ˆã€å·¥å…·å’Œæœ€ä½³å®è·µã€‚

---

## ç›®å½•

1. [æ¦‚è¿°](#1-æ¦‚è¿°)
2. [CI/CD è‡ªåŠ¨åŒ–](#2-cicd-è‡ªåŠ¨åŒ–)
3. [ä»£ç å®¡æŸ¥è‡ªåŠ¨åŒ–](#3-ä»£ç å®¡æŸ¥è‡ªåŠ¨åŒ–)
4. [æµ‹è¯•è‡ªåŠ¨åŒ–](#4-æµ‹è¯•è‡ªåŠ¨åŒ–)
5. [åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ– (IaC/GitOps)](#5-åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ–-iacgitops)
6. [å®‰å…¨è‡ªåŠ¨åŒ– (DevSecOps)](#6-å®‰å…¨è‡ªåŠ¨åŒ–-devsecops)
7. [ç›‘æ§ä¸å‘Šè­¦è‡ªåŠ¨åŒ– (AIOps)](#7-ç›‘æ§ä¸å‘Šè­¦è‡ªåŠ¨åŒ–-aiops)
8. [æ™ºèƒ½åŒ–æ—¥å¿—åˆ†æä¸å¤„ç†å¹³å°](#8-æ™ºèƒ½åŒ–æ—¥å¿—åˆ†æä¸å¤„ç†å¹³å°é‡ç‚¹)
9. [è‡ªæ„ˆç³»ç»Ÿ (Self-Healing)](#9-è‡ªæ„ˆç³»ç»Ÿ-self-healing)
10. [æ€»ç»“ä¸å·¥å…·é€‰å‹å»ºè®®](#10-æ€»ç»“ä¸å·¥å…·é€‰å‹å»ºè®®)

---

## 1. æ¦‚è¿°

### 1.1 è‡ªåŠ¨åŒ–çš„æ¼”è¿›è¶‹åŠ¿

```
ä¼ ç»Ÿè¿ç»´ â†’ DevOps â†’ DevSecOps â†’ AIOps â†’ è‡ªæ„ˆç³»ç»Ÿ
(æ‰‹åŠ¨)     (è‡ªåŠ¨åŒ–)  (å®‰å…¨é›†æˆ)   (AIå¢å¼º)  (è‡ªä¸»ä¿®å¤)
```

æ ¹æ® 2025-2026 å¹´çš„è¡Œä¸šè¶‹åŠ¿ï¼Œè½¯ä»¶å¼€å‘è‡ªåŠ¨åŒ–æ­£åœ¨ç»å†ä»¥ä¸‹å˜é©ï¼š

| é˜¶æ®µ | ç‰¹ç‚¹ | ä»£è¡¨æŠ€æœ¯ |
|------|------|----------|
| DevOps | CI/CD æµæ°´çº¿è‡ªåŠ¨åŒ– | Jenkins, GitLab CI, GitHub Actions |
| DevSecOps | å®‰å…¨å·¦ç§»ï¼ŒåµŒå…¥SDLC | SAST, DAST, SCA |
| AIOps | AI/ML é©±åŠ¨çš„è¿ç»´ | Datadog AI, Dynatrace Davis |
| å¹³å°å·¥ç¨‹ | å†…éƒ¨å¼€å‘è€…å¹³å°(IDP) | Backstage, Port |

### 1.2 è‡ªåŠ¨åŒ–è¦†ç›–çš„å…¨ç”Ÿå‘½å‘¨æœŸ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     è½¯ä»¶å¼€å‘ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç¼–ç é˜¶æ®µ   â”‚   æ„å»ºé˜¶æ®µ   â”‚   æµ‹è¯•é˜¶æ®µ   â”‚   éƒ¨ç½²é˜¶æ®µ   â”‚  è¿ç»´é˜¶æ®µ  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ AIä»£ç è¡¥å…¨ â”‚ â€¢ è‡ªåŠ¨æ„å»º   â”‚ â€¢ è‡ªåŠ¨åŒ–æµ‹è¯• â”‚ â€¢ è‡ªåŠ¨éƒ¨ç½²   â”‚ â€¢ æ—¥å¿—åˆ†æ â”‚
â”‚ â€¢ ä»£ç å®¡æŸ¥   â”‚ â€¢ ä¾èµ–ç®¡ç†   â”‚ â€¢ AIæµ‹è¯•ç”Ÿæˆ â”‚ â€¢ é‡‘ä¸é›€å‘å¸ƒ â”‚ â€¢ å¼‚å¸¸æ£€æµ‹ â”‚
â”‚ â€¢ å®‰å…¨æ‰«æ   â”‚ â€¢ åˆ¶å“ç®¡ç†   â”‚ â€¢ è¦†ç›–ç‡æ£€æµ‹ â”‚ â€¢ å›æ»šæœºåˆ¶   â”‚ â€¢ è‡ªåŠ¨ä¿®å¤ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. CI/CD è‡ªåŠ¨åŒ–

### 2.1 æ ¸å¿ƒæ¦‚å¿µ

**æŒç»­é›†æˆ(CI)**: é¢‘ç¹å°†ä»£ç åˆå¹¶åˆ°ä¸»åˆ†æ”¯ï¼Œè‡ªåŠ¨åŒ–æ„å»ºå’Œæµ‹è¯•
**æŒç»­éƒ¨ç½²(CD)**: è‡ªåŠ¨åŒ–å°†é€šè¿‡æµ‹è¯•çš„ä»£ç éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

### 2.2 ä¸»æµå·¥å…·å¯¹æ¯”

| å·¥å…· | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| **GitHub Actions** | åŸç”Ÿé›†æˆGitHubï¼ŒYAMLé…ç½®ï¼Œmarketplaceä¸°å¯Œ | GitHubé¡¹ç›®é¦–é€‰ |
| **GitLab CI/CD** | ä¸€ç«™å¼DevOpså¹³å°ï¼Œå†…ç½®å®¹å™¨æ³¨å†Œè¡¨ | éœ€è¦å®Œæ•´DevOpså¹³å° |
| **Jenkins** | å¼€æºï¼Œæ’ä»¶ç”Ÿæ€ä¸°å¯Œï¼Œé«˜åº¦å¯å®šåˆ¶ | å¤æ‚ä¼ä¸šçº§éœ€æ±‚ |
| **ArgoCD** | GitOpsåŸç”Ÿï¼ŒKuberneteséƒ¨ç½²ä¸“å®¶ | K8s GitOpséƒ¨ç½² |
| **CircleCI** | å¿«é€Ÿé…ç½®ï¼Œå¹¶è¡Œæ‰§è¡Œä¼˜ç§€ | å¿«é€Ÿå¯åŠ¨é¡¹ç›® |

### 2.3 å…·ä½“å®è·µç¤ºä¾‹

#### GitHub Actions å®Œæ•´æµæ°´çº¿

```yaml
# .github/workflows/ci-cd.yml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  # é˜¶æ®µ1: ä»£ç è´¨é‡æ£€æŸ¥
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run ESLint
        run: npm run lint
      - name: Run Prettier
        run: npm run format:check

  # é˜¶æ®µ2: å®‰å…¨æ‰«æ
  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Run Trivy vulnerability scanner
        uses: aquasecurity/trivy-action@master
        with:
          scan-type: 'fs'
          severity: 'HIGH,CRITICAL'
      - name: Run CodeQL Analysis
        uses: github/codeql-action/analyze@v3

  # é˜¶æ®µ3: æµ‹è¯•
  test:
    runs-on: ubuntu-latest
    needs: [lint]
    steps:
      - uses: actions/checkout@v4
      - name: Run Unit Tests
        run: npm test -- --coverage
      - name: Upload Coverage to Codecov
        uses: codecov/codecov-action@v4

  # é˜¶æ®µ4: æ„å»ºå’Œéƒ¨ç½²
  deploy:
    runs-on: ubuntu-latest
    needs: [test, security]
    if: github.ref == 'refs/heads/main'
    steps:
      - uses: actions/checkout@v4
      - name: Build Docker Image
        run: docker build -t myapp:${{ github.sha }} .
      - name: Push to Registry
        run: |
          docker tag myapp:${{ github.sha }} registry.example.com/myapp:latest
          docker push registry.example.com/myapp:latest
      - name: Deploy to Kubernetes
        uses: azure/k8s-deploy@v4
        with:
          manifests: k8s/
          images: registry.example.com/myapp:latest
```

#### ArgoCD GitOps éƒ¨ç½²é…ç½®

```yaml
# argocd-application.yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: my-app
  namespace: argocd
spec:
  project: default
  source:
    repoURL: https://github.com/org/my-app-config
    targetRevision: HEAD
    path: overlays/production
  destination:
    server: https://kubernetes.default.svc
    namespace: production
  syncPolicy:
    automated:
      prune: true        # è‡ªåŠ¨åˆ é™¤ä¸åœ¨Gitä¸­çš„èµ„æº
      selfHeal: true     # è‡ªåŠ¨ä¿®å¤æ¼‚ç§»
    syncOptions:
      - CreateNamespace=true
```

### 2.4 AIå¢å¼ºçš„CI/CDç‰¹æ€§ (2025-2026)

| ç‰¹æ€§ | æè¿° | å·¥å…·ç¤ºä¾‹ |
|------|------|----------|
| **æ™ºèƒ½æµ‹è¯•é€‰æ‹©** | AIè¯†åˆ«å—å½±å“çš„æµ‹è¯•ï¼Œåªè¿è¡Œç›¸å…³æµ‹è¯• | Launchable, Codecov |
| **å¼‚å¸¸æ£€æµ‹** | MLæ£€æµ‹æ„å»º/éƒ¨ç½²å¼‚å¸¸ | Datadog CI Visibility |
| **è‡ªåŠ¨è°ƒä¼˜éƒ¨ç½²ç­–ç•¥** | æ ¹æ®å†å²æ•°æ®ä¼˜åŒ–é‡‘ä¸é›€å‘å¸ƒæ¯”ä¾‹ | Harness, Spinnaker |
| **é¢„æµ‹æ€§åˆ†æ** | é¢„æµ‹æ„å»ºå¤±è´¥æ¦‚ç‡ | CircleCI Insights |

---

## 3. ä»£ç å®¡æŸ¥è‡ªåŠ¨åŒ–

### 3.1 å·¥å…·åˆ†ç±»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä»£ç å®¡æŸ¥è‡ªåŠ¨åŒ–å·¥å…·                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   é™æ€åˆ†æå·¥å…·    â”‚   AIä»£ç å®¡æŸ¥     â”‚      ä»£ç è´¨é‡å¹³å°         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ ESLint         â”‚ â€¢ CodeRabbit     â”‚ â€¢ SonarQube              â”‚
â”‚ â€¢ Pylint         â”‚ â€¢ GitHub Copilot â”‚ â€¢ Code Climate           â”‚
â”‚ â€¢ RuboCop        â”‚ â€¢ Qodo (Codium)  â”‚ â€¢ Codacy                 â”‚
â”‚ â€¢ golangci-lint  â”‚ â€¢ Sourcery       â”‚ â€¢ DeepSource             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ä¸»æµAIä»£ç å®¡æŸ¥å·¥å…·

#### CodeRabbit
- **åŠŸèƒ½**: PRè‡ªåŠ¨å®¡æŸ¥ã€ä»£ç æ‘˜è¦ã€å®‰å…¨æ£€æµ‹ã€å¯ç»´æŠ¤æ€§åˆ†æ
- **é›†æˆ**: GitHub, GitLab, Bitbucket, Azure DevOps
- **å‡†ç¡®ç‡**: 46% å®é™…è¿è¡Œæ—¶Bugæ£€æµ‹ç‡
- **æŠ€æœ¯**: ASTåˆ†æ + SAST + ç”Ÿæˆå¼AIåé¦ˆ

```yaml
# .coderabbit.yaml
reviews:
  request_changes_workflow: true
  high_level_summary: true
  auto_review:
    enabled: true
    drafts: false
language_settings:
  python:
    style_guide: pep8
  typescript:
    style_guide: airbnb
```

#### GitHub Copilot PR Review
- **åŠŸèƒ½**: PRå®¡æŸ¥ã€Bugæ£€æµ‹ã€æ€§èƒ½é—®é¢˜è¯†åˆ«ã€ä¿®å¤å»ºè®®
- **é™åˆ¶**: å•PRä¸Šä¸‹æ–‡ï¼Œæ— å…¨ä»£ç åº“æ¨ç†
- **ä¼˜åŠ¿**: æ·±åº¦GitHubé›†æˆï¼Œè®¢é˜…ç”¨æˆ·å…è´¹

#### SonarQube
- **åŠŸèƒ½**: æŠ€æœ¯å€ºåŠ¡åˆ†æã€å®‰å…¨æ¼æ´æ£€æµ‹ã€ä»£ç å¼‚å‘³è¯†åˆ«
- **æ”¯æŒ**: 30+ ç¼–ç¨‹è¯­è¨€
- **éƒ¨ç½²**: ç§æœ‰åŒ–/äº‘ç«¯/æ··åˆ

```yaml
# sonar-project.properties
sonar.projectKey=my-project
sonar.sources=src
sonar.tests=tests
sonar.language=python
sonar.python.coverage.reportPaths=coverage.xml
sonar.qualitygate.wait=true
```

### 3.3 è‡ªåŠ¨åŒ–ä»£ç å®¡æŸ¥æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¼€å‘è€…    â”‚â”€â”€â”€â–¶â”‚  åˆ›å»ºPR   â”‚â”€â”€â”€â–¶â”‚ AIè‡ªåŠ¨å®¡æŸ¥ â”‚â”€â”€â”€â–¶â”‚ ç”ŸæˆæŠ¥å‘Š  â”‚
â”‚ æäº¤ä»£ç   â”‚    â”‚           â”‚    â”‚           â”‚    â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â–¼                     â–¼                     â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ é™æ€åˆ†æ   â”‚         â”‚ å®‰å…¨æ‰«æ   â”‚         â”‚ ä»£ç è´¨é‡   â”‚
          â”‚ (ESLint)  â”‚         â”‚ (Trivy)   â”‚         â”‚(SonarQube)â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                     â”‚                     â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  äººå·¥å®¡æŸ¥     â”‚
                              â”‚  (æœ€ç»ˆç¡®è®¤)   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. æµ‹è¯•è‡ªåŠ¨åŒ–

### 4.1 æµ‹è¯•é‡‘å­—å¡”ä¸è‡ªåŠ¨åŒ–

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”
                   /  E2E   \          å°‘é‡ï¼Œå…³é”®è·¯å¾„
                  /  æµ‹è¯•    \         (Playwright, Cypress)
                 /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\
                /   é›†æˆæµ‹è¯•   \        é€‚é‡ï¼ŒAPI/æœåŠ¡é—´
               /              \       (Postman, pytest)
              /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\
             /     å•å…ƒæµ‹è¯•      \      å¤§é‡ï¼Œå¿«é€Ÿåé¦ˆ
            /                    \    (Jest, pytest, JUnit)
           /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\
```

### 4.2 AIæµ‹è¯•ç”Ÿæˆå·¥å…·

| å·¥å…· | ç±»å‹ | ç‰¹ç‚¹ | æ”¯æŒè¯­è¨€ |
|------|------|------|----------|
| **Diffblue Cover** | å•å…ƒæµ‹è¯• | AIå¼ºåŒ–å­¦ä¹ ï¼Œ250xé€Ÿåº¦æå‡ | Java |
| **Tusk** | å•å…ƒ/é›†æˆæµ‹è¯• | ä¸šåŠ¡ä¸Šä¸‹æ–‡ç†è§£ï¼ŒCIé›†æˆ | å¤šè¯­è¨€ |
| **BaseRock AI** | å•å…ƒ/é›†æˆæµ‹è¯• | ä¸€é”®80%+è¦†ç›–ç‡ | å¤šè¯­è¨€ |
| **GitAuto** | å•å…ƒæµ‹è¯• | 24/7è‡ªåŠ¨ç”Ÿæˆï¼Œ90%+è¦†ç›–ç‡ | å¤šè¯­è¨€ |
| **testRigor** | E2Eæµ‹è¯• | è‡ªç„¶è¯­è¨€ç¼–å†™æµ‹è¯• | Web/Mobile |
| **Katalon** | å…¨æ ˆæµ‹è¯• | ä½ä»£ç å¹³å° | å¤šå¹³å° |
| **LambdaTest KaneAI** | E2Eæµ‹è¯• | GenAIåŸç”Ÿï¼Œè‡ªç„¶è¯­è¨€ | Web |

### 4.3 å…·ä½“å®è·µç¤ºä¾‹

#### pytest è‡ªåŠ¨åŒ–æµ‹è¯•é…ç½®

```python
# conftest.py
import pytest
from unittest.mock import MagicMock

@pytest.fixture(scope="session")
def db_session():
    """åˆ›å»ºæµ‹è¯•æ•°æ®åº“ä¼šè¯"""
    from app.database import create_test_engine
    engine = create_test_engine()
    yield engine
    engine.dispose()

@pytest.fixture
def mock_external_api():
    """Mockå¤–éƒ¨APIè°ƒç”¨"""
    mock = MagicMock()
    mock.get_user.return_value = {"id": 1, "name": "Test User"}
    return mock
```

```yaml
# pytest.ini
[pytest]
testpaths = tests
python_files = test_*.py
python_functions = test_*
addopts =
    --cov=app
    --cov-report=html
    --cov-report=xml
    --cov-fail-under=80
    -v
    --tb=short
markers =
    slow: marks tests as slow
    integration: marks tests as integration tests
```

#### Playwright E2Eæµ‹è¯•

```typescript
// e2e/checkout.spec.ts
import { test, expect } from '@playwright/test';

test.describe('Checkout Flow', () => {
  test('should complete purchase successfully', async ({ page }) => {
    // ç™»å½•
    await page.goto('/login');
    await page.fill('[data-testid="email"]', 'user@example.com');
    await page.fill('[data-testid="password"]', 'password');
    await page.click('[data-testid="login-button"]');

    // æ·»åŠ å•†å“åˆ°è´­ç‰©è½¦
    await page.goto('/products/1');
    await page.click('[data-testid="add-to-cart"]');

    // ç»“è´¦
    await page.goto('/checkout');
    await page.fill('[data-testid="card-number"]', '4242424242424242');
    await page.click('[data-testid="pay-button"]');

    // éªŒè¯
    await expect(page.locator('[data-testid="success-message"]'))
      .toContainText('Order confirmed');
  });
});
```

---

## 5. åŸºç¡€è®¾æ–½è‡ªåŠ¨åŒ– (IaC/GitOps)

### 5.1 IaCå·¥å…·å¯¹æ¯”

| å·¥å…· | è¯­è¨€ | ç‰¹ç‚¹ | æœ€ä½³åœºæ™¯ |
|------|------|------|----------|
| **Terraform** | HCL | æˆç†Ÿç”Ÿæ€ï¼Œå¤šäº‘æ”¯æŒ | å¤šäº‘/æ··åˆäº‘ |
| **Pulumi** | TS/Python/Go | é€šç”¨ç¼–ç¨‹è¯­è¨€ | å¤æ‚é€»è¾‘éœ€æ±‚ |
| **AWS CDK** | TS/Python/Java | AWSåŸç”Ÿ | çº¯AWSç¯å¢ƒ |
| **OpenTofu** | HCL | Terraformå¼€æºæ›¿ä»£ | é¿å…è®¸å¯é—®é¢˜ |
| **Crossplane** | YAML | KubernetesåŸç”Ÿ | K8sç¯å¢ƒ |

### 5.2 GitOpså·¥ä½œæµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         GitOps å·¥ä½œæµ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¼€å‘è€…    â”‚â”€â”€â”€â”€â–¶â”‚  Gitä»“åº“  â”‚â”€â”€â”€â”€â–¶â”‚ GitOps   â”‚â”€â”€â”€â”€â–¶â”‚ K8sé›†ç¾¤  â”‚  â”‚
â”‚  â”‚ æäº¤å˜æ›´  â”‚     â”‚(Source of â”‚     â”‚ Operator â”‚     â”‚          â”‚  â”‚
â”‚  â”‚          â”‚     â”‚  Truth)   â”‚     â”‚(ArgoCD/  â”‚     â”‚          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ FluxCD)  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                         â–²           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚        â”‚
â”‚                         â”‚                â”‚                â”‚        â”‚
â”‚                         â”‚                â–¼                â”‚        â”‚
â”‚                         â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚        â”‚
â”‚                         â”‚         â”‚ æ¼‚ç§»æ£€æµ‹  â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                         â”‚         â”‚ è‡ªåŠ¨ä¿®å¤  â”‚                    â”‚
â”‚                         â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                         â”‚                â”‚                        â”‚
â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                           (è‡ªåŠ¨åŒæ­¥)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 Terraformå®è·µç¤ºä¾‹

```hcl
# main.tf - Kubernetesé›†ç¾¤ + ç›‘æ§æ ˆ
terraform {
  required_providers {
    aws = {
      source  = "hashicorp/aws"
      version = "~> 5.0"
    }
    kubernetes = {
      source  = "hashicorp/kubernetes"
      version = "~> 2.0"
    }
  }

  backend "s3" {
    bucket         = "terraform-state-bucket"
    key            = "prod/terraform.tfstate"
    region         = "us-west-2"
    encrypt        = true
    dynamodb_table = "terraform-locks"
  }
}

# EKSé›†ç¾¤
module "eks" {
  source          = "terraform-aws-modules/eks/aws"
  cluster_name    = var.cluster_name
  cluster_version = "1.29"

  vpc_id     = module.vpc.vpc_id
  subnet_ids = module.vpc.private_subnets

  eks_managed_node_groups = {
    default = {
      min_size     = 2
      max_size     = 10
      desired_size = 3
      instance_types = ["t3.medium"]
    }
  }
}

# ç›‘æ§æ ˆ (Prometheus + Grafana)
resource "helm_release" "prometheus" {
  name       = "prometheus"
  repository = "https://prometheus-community.github.io/helm-charts"
  chart      = "kube-prometheus-stack"
  namespace  = "monitoring"

  set {
    name  = "grafana.adminPassword"
    value = var.grafana_password
  }
}
```

---

## 6. å®‰å…¨è‡ªåŠ¨åŒ– (DevSecOps)

### 6.1 å®‰å…¨æ‰«æç±»å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DevSecOps å®‰å…¨æ‰«æå…¨æ™¯                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚   â”‚  SAST   â”‚   â”‚  DAST   â”‚   â”‚   SCA   â”‚   â”‚  IAST   â”‚           â”‚
â”‚   â”‚é™æ€åˆ†æ â”‚   â”‚åŠ¨æ€åˆ†æ â”‚   â”‚æˆåˆ†åˆ†æ â”‚   â”‚äº¤äº’åˆ†æ â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜           â”‚
â”‚        â”‚             â”‚             â”‚             â”‚                 â”‚
â”‚   æºä»£ç æ‰«æ    è¿è¡Œæ—¶æ‰«æ    ä¾èµ–æ¼æ´æ‰«æ   è¿è¡Œæ—¶ä»£ç åˆ†æ          â”‚
â”‚        â”‚             â”‚             â”‚             â”‚                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”           â”‚
â”‚   â”‚Semgrep  â”‚   â”‚OWASP ZAPâ”‚   â”‚ Snyk    â”‚   â”‚Contrast â”‚           â”‚
â”‚   â”‚CodeQL   â”‚   â”‚Invicti  â”‚   â”‚Dependabotâ”‚  â”‚         â”‚           â”‚
â”‚   â”‚SonarQubeâ”‚   â”‚StackHawkâ”‚   â”‚ Trivy   â”‚   â”‚         â”‚           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 å¸¸è§æ¼æ´æ£€æµ‹èƒ½åŠ›

| æ¼æ´ç±»å‹ | SAST | DAST | SCA |
|----------|:----:|:----:|:---:|
| SQLæ³¨å…¥ | âœ… | âœ… | - |
| XSSè·¨ç«™è„šæœ¬ | âœ… | âœ… | - |
| ç¡¬ç¼–ç å¯†é’¥ | âœ… | - | - |
| ä¾èµ–æ¼æ´ | - | - | âœ… |
| è®¤è¯ç»•è¿‡ | âš ï¸ | âœ… | - |
| APIå®‰å…¨é—®é¢˜ | âš ï¸ | âœ… | - |
| é…ç½®é”™è¯¯ | âœ… | âœ… | - |

### 6.3 å®‰å…¨è‡ªåŠ¨åŒ–æµæ°´çº¿

```yaml
# .gitlab-ci.yml - å®Œæ•´å®‰å…¨æµæ°´çº¿
stages:
  - build
  - security
  - test
  - deploy

# SASTæ‰«æ
sast:
  stage: security
  image: returntocorp/semgrep
  script:
    - semgrep --config=auto --sarif --output=semgrep.sarif .
  artifacts:
    reports:
      sast: semgrep.sarif

# ä¾èµ–æ¼æ´æ‰«æ (SCA)
dependency_scan:
  stage: security
  image: aquasec/trivy
  script:
    - trivy fs --severity HIGH,CRITICAL --exit-code 1 .
  allow_failure: false

# å®¹å™¨é•œåƒæ‰«æ
container_scan:
  stage: security
  image: aquasec/trivy
  script:
    - trivy image --severity HIGH,CRITICAL myapp:$CI_COMMIT_SHA

# å¯†é’¥æ³„éœ²æ£€æµ‹
secret_detection:
  stage: security
  image: trufflesecurity/trufflehog
  script:
    - trufflehog git file://. --only-verified --fail

# DASTæ‰«æ (éƒ¨ç½²å)
dast:
  stage: deploy
  image: owasp/zap2docker-stable
  script:
    - zap-baseline.py -t https://staging.example.com -r report.html
  artifacts:
    paths:
      - report.html
```

### 6.4 ä¾›åº”é“¾å®‰å…¨

```yaml
# è½¯ä»¶ç‰©æ–™æ¸…å• (SBOM) ç”Ÿæˆ
sbom:
  stage: security
  script:
    - syft packages dir:. -o spdx-json > sbom.json
    - cosign attest --predicate sbom.json --type spdxjson $IMAGE
  artifacts:
    paths:
      - sbom.json
```

---

## 7. ç›‘æ§ä¸å‘Šè­¦è‡ªåŠ¨åŒ– (AIOps)

### 7.1 å¯è§‚æµ‹æ€§ä¸‰æ”¯æŸ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å¯è§‚æµ‹æ€§ä¸‰æ”¯æŸ±                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Metrics      â”‚       Logs        â”‚         Traces              â”‚
â”‚      (æŒ‡æ ‡)        â”‚      (æ—¥å¿—)       â”‚         (é“¾è·¯)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Prometheus      â”‚ â€¢ Elasticsearch   â”‚ â€¢ Jaeger                    â”‚
â”‚ â€¢ InfluxDB        â”‚ â€¢ Loki            â”‚ â€¢ Zipkin                    â”‚
â”‚ â€¢ Datadog         â”‚ â€¢ Splunk          â”‚ â€¢ OpenTelemetry             â”‚
â”‚ â€¢ CloudWatch      â”‚ â€¢ Fluentd/FluentBitâ”‚ â€¢ Datadog APM             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ç»Ÿä¸€è§‚æµ‹å¹³å°     â”‚
                    â”‚ Grafana / Datadog â”‚
                    â”‚ / New Relic       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 Prometheus + Grafana ç›‘æ§æ ˆ

```yaml
# prometheus.yml
global:
  scrape_interval: 15s
  evaluation_interval: 15s

alerting:
  alertmanagers:
    - static_configs:
        - targets: ['alertmanager:9093']

rule_files:
  - /etc/prometheus/rules/*.yml

scrape_configs:
  - job_name: 'kubernetes-pods'
    kubernetes_sd_configs:
      - role: pod
    relabel_configs:
      - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape]
        action: keep
        regex: true
```

```yaml
# alerting-rules.yml
groups:
  - name: application
    rules:
      - alert: HighErrorRate
        expr: |
          sum(rate(http_requests_total{status=~"5.."}[5m]))
          / sum(rate(http_requests_total[5m])) > 0.05
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "High error rate detected"
          description: "Error rate is {{ $value | humanizePercentage }}"

      - alert: HighLatency
        expr: |
          histogram_quantile(0.95,
            sum(rate(http_request_duration_seconds_bucket[5m])) by (le)
          ) > 1
        for: 10m
        labels:
          severity: warning
        annotations:
          summary: "High latency detected"
```

### 7.3 AIOpså¼‚å¸¸æ£€æµ‹

```python
# anomaly_detection.py - ä½¿ç”¨Prophetè¿›è¡Œæ—¶åºå¼‚å¸¸æ£€æµ‹
from prophet import Prophet
import pandas as pd
from prometheus_api_client import PrometheusConnect

def detect_anomalies(metric_name: str, threshold: float = 0.95):
    """
    ä½¿ç”¨Prophetæ£€æµ‹PrometheusæŒ‡æ ‡å¼‚å¸¸
    """
    # ä»Prometheusè·å–å†å²æ•°æ®
    prom = PrometheusConnect(url="http://prometheus:9090")

    # è·å–è¿‡å»7å¤©çš„æ•°æ®
    metric_data = prom.get_metric_range_data(
        metric_name=metric_name,
        start_time=datetime.now() - timedelta(days=7),
        end_time=datetime.now()
    )

    # å‡†å¤‡Prophetæ ¼å¼çš„æ•°æ®
    df = pd.DataFrame({
        'ds': [point['timestamp'] for point in metric_data],
        'y': [float(point['value']) for point in metric_data]
    })

    # è®­ç»ƒProphetæ¨¡å‹
    model = Prophet(
        interval_width=threshold,
        changepoint_prior_scale=0.05
    )
    model.fit(df)

    # é¢„æµ‹
    future = model.make_future_dataframe(periods=24, freq='H')
    forecast = model.predict(future)

    # æ£€æµ‹å¼‚å¸¸ (è¶…å‡ºç½®ä¿¡åŒºé—´çš„ç‚¹)
    anomalies = df[
        (df['y'] < forecast['yhat_lower']) |
        (df['y'] > forecast['yhat_upper'])
    ]

    return anomalies
```

### 7.4 Datadog AIOpsåŠŸèƒ½

```yaml
# datadog-monitor.yaml
monitors:
  - name: "Anomaly Detection - API Latency"
    type: metric alert
    query: |
      avg(last_4h):anomalies(
        avg:trace.http.request.duration{service:api-gateway},
        'agile',
        2,
        direction='above'
      ) >= 1
    message: |
      API latency anomaly detected!

      {{#is_alert}}
      Latency is abnormally high.
      Service: {{service.name}}
      Current value: {{value}}
      {{/is_alert}}

      @slack-alerts @pagerduty
    options:
      thresholds:
        critical: 1
        warning: 0.8
      notify_no_data: true
      evaluation_delay: 300
```

---

## 8. æ™ºèƒ½åŒ–æ—¥å¿—åˆ†æä¸å¤„ç†å¹³å°ï¼ˆé‡ç‚¹ï¼‰

### 8.1 æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ™ºèƒ½åŒ–æ—¥å¿—åˆ†æä¸å¤„ç†å¹³å°æ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ åº”ç”¨A   â”‚   â”‚ åº”ç”¨B   â”‚   â”‚ åº”ç”¨C   â”‚   â”‚ K8s Pod â”‚   â”‚ ç³»ç»Ÿæ—¥å¿— â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â”‚
â”‚       â”‚             â”‚             â”‚             â”‚             â”‚            â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                   â”‚                                        â”‚
â”‚                                   â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        æ—¥å¿—æ”¶é›†å±‚                                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ Fluentd   â”‚   â”‚ FluentBit â”‚   â”‚ Filebeat  â”‚   â”‚ Vector    â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ (é‡é‡çº§)   â”‚   â”‚ (è½»é‡çº§)  â”‚   â”‚ (Elastic) â”‚   â”‚ (é«˜æ€§èƒ½)  â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚                                        â”‚
â”‚                                   â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        æ¶ˆæ¯é˜Ÿåˆ— (å¯é€‰)                               â”‚  â”‚
â”‚  â”‚                    Kafka / Redis Streams                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚                                        â”‚
â”‚                                   â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    å­˜å‚¨ä¸æœç´¢å±‚ (Elasticsearch)                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ å…¨æ–‡æœç´¢    â€¢ èšåˆåˆ†æ    â€¢ æœºå™¨å­¦ä¹ å¼‚å¸¸æ£€æµ‹                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â€¢ çƒ­/æ¸©/å†·æ•°æ®åˆ†å±‚    â€¢ ILMç”Ÿå‘½å‘¨æœŸç®¡ç†                       â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚                                        â”‚
â”‚                                   â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      å¯è§†åŒ–å±‚ (Kibana)                               â”‚  â”‚
â”‚  â”‚  â€¢ Dashboard    â€¢ Alerting    â€¢ ML Jobs    â€¢ APM                    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                   â”‚                                        â”‚
â”‚                                   â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   â­ AIæ™ºèƒ½åˆ†æå±‚ (LLMå¢å¼º) â­                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚                                                               â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ é”™è¯¯æ¨¡å¼è¯†åˆ« â”‚   â”‚ æ ¹å› åˆ†æ    â”‚   â”‚ ä»£ç å®šä½    â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ (ML+LLM)    â”‚   â”‚ (LLM)      â”‚   â”‚ (RAG)      â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚                 â”‚                 â”‚                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â–¼                 â–¼                 â–¼                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ è‡ªåŠ¨ç”Ÿæˆ    â”‚   â”‚ ä¿®å¤å»ºè®®    â”‚   â”‚ ä»£ç è¡¥ä¸    â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ å‘Šè­¦        â”‚   â”‚ ç”Ÿæˆ        â”‚   â”‚ ç”Ÿæˆ        â”‚         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â”‚                 â”‚                 â”‚                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                           â–¼                                   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”‚  è‡ªåŠ¨åˆ›å»ºPR     â”‚                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”‚  (GitLab/GitHub)â”‚                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                          â”‚                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                          â–¼                                    â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”‚  äººå·¥å®¡æ ¸       â”‚                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”‚  åˆå¹¶éƒ¨ç½²       â”‚                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                               â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 EFK/ELK æ ¸å¿ƒç»„ä»¶éƒ¨ç½²

#### 8.2.1 Elasticsearch é›†ç¾¤é…ç½®

```yaml
# elasticsearch.yml
cluster.name: log-cluster
node.name: es-node-1

# åˆ†å±‚å­˜å‚¨
node.roles: [ master, data_hot, data_warm, data_cold ]

# è·¯å¾„é…ç½®
path.data: /var/lib/elasticsearch
path.logs: /var/log/elasticsearch

# ç½‘ç»œé…ç½®
network.host: 0.0.0.0
http.port: 9200

# é›†ç¾¤å‘ç°
discovery.seed_hosts: ["es-node-1", "es-node-2", "es-node-3"]
cluster.initial_master_nodes: ["es-node-1"]

# å®‰å…¨é…ç½®
xpack.security.enabled: true
xpack.security.transport.ssl.enabled: true

# æœºå™¨å­¦ä¹ 
xpack.ml.enabled: true
```

#### 8.2.2 ç´¢å¼•ç”Ÿå‘½å‘¨æœŸç®¡ç† (ILM)

```json
// ILMç­–ç•¥ - è‡ªåŠ¨ç®¡ç†æ—¥å¿—ç”Ÿå‘½å‘¨æœŸ
PUT _ilm/policy/logs-policy
{
  "policy": {
    "phases": {
      "hot": {
        "min_age": "0ms",
        "actions": {
          "rollover": {
            "max_size": "50GB",
            "max_age": "1d"
          },
          "set_priority": {
            "priority": 100
          }
        }
      },
      "warm": {
        "min_age": "7d",
        "actions": {
          "shrink": {
            "number_of_shards": 1
          },
          "forcemerge": {
            "max_num_segments": 1
          },
          "set_priority": {
            "priority": 50
          }
        }
      },
      "cold": {
        "min_age": "30d",
        "actions": {
          "set_priority": {
            "priority": 0
          },
          "allocate": {
            "require": {
              "data": "cold"
            }
          }
        }
      },
      "delete": {
        "min_age": "90d",
        "actions": {
          "delete": {}
        }
      }
    }
  }
}
```

#### 8.2.3 Fluentd æ—¥å¿—æ”¶é›†é…ç½®

```xml
<!-- fluent.conf -->
<source>
  @type tail
  path /var/log/containers/*.log
  pos_file /var/log/fluentd-containers.log.pos
  tag kubernetes.*
  read_from_head true
  <parse>
    @type json
    time_key time
    time_format %Y-%m-%dT%H:%M:%S.%NZ
  </parse>
</source>

<!-- æ·»åŠ Kuberneteså…ƒæ•°æ® -->
<filter kubernetes.**>
  @type kubernetes_metadata
  @id filter_kube_metadata
</filter>

<!-- é”™è¯¯æ—¥å¿—ç‰¹æ®Šå¤„ç† -->
<filter kubernetes.**>
  @type record_transformer
  enable_ruby true
  <record>
    severity ${record["log"].match(/ERROR|FATAL|CRITICAL/) ? "error" : (record["log"].match(/WARN/) ? "warning" : "info")}
    fingerprint ${Digest::MD5.hexdigest(record["log"].gsub(/\d+/, 'N').gsub(/0x[a-f0-9]+/, 'ADDR'))}
  </record>
</filter>

<!-- è¾“å‡ºåˆ°Elasticsearch -->
<match kubernetes.**>
  @type elasticsearch
  host elasticsearch
  port 9200
  logstash_format true
  logstash_prefix k8s-logs
  include_tag_key true
  type_name _doc
  <buffer>
    @type file
    path /var/log/fluentd-buffers/kubernetes.system.buffer
    flush_mode interval
    retry_type exponential_backoff
    flush_interval 5s
    retry_max_interval 30
    chunk_limit_size 2M
    queue_limit_length 8
    overflow_action block
  </buffer>
</match>
```

### 8.3 Elasticsearch æœºå™¨å­¦ä¹ å¼‚å¸¸æ£€æµ‹

```json
// åˆ›å»ºå¼‚å¸¸æ£€æµ‹Job
PUT _ml/anomaly_detectors/error_rate_anomaly
{
  "analysis_config": {
    "bucket_span": "5m",
    "detectors": [
      {
        "function": "count",
        "by_field_name": "kubernetes.container_name",
        "partition_field_name": "kubernetes.namespace"
      }
    ],
    "influencers": [
      "kubernetes.container_name",
      "kubernetes.namespace",
      "kubernetes.pod_name"
    ]
  },
  "data_description": {
    "time_field": "@timestamp"
  },
  "datafeed_config": {
    "datafeed_id": "datafeed-error_rate_anomaly",
    "indices": ["k8s-logs-*"],
    "query": {
      "bool": {
        "filter": [
          {"term": {"severity": "error"}}
        ]
      }
    }
  }
}

// å¯åŠ¨Job
POST _ml/anomaly_detectors/error_rate_anomaly/_open
POST _ml/datafeeds/datafeed-error_rate_anomaly/_start
```

### 8.4 LLMå¢å¼ºçš„æ™ºèƒ½æ—¥å¿—åˆ†æç³»ç»Ÿ

#### 8.4.1 ç³»ç»Ÿæ¶æ„ä»£ç 

```python
# intelligent_log_analyzer.py
import os
from typing import List, Dict, Optional
from dataclasses import dataclass
from elasticsearch import Elasticsearch
from openai import OpenAI
import gitlab
import re

@dataclass
class ErrorAnalysis:
    """é”™è¯¯åˆ†æç»“æœ"""
    error_message: str
    root_cause: str
    affected_file: str
    affected_line: int
    fix_suggestion: str
    code_patch: str
    confidence: float

class IntelligentLogAnalyzer:
    """
    æ™ºèƒ½æ—¥å¿—åˆ†æå™¨ - é›†æˆES + LLM + GitLab
    """

    def __init__(self):
        self.es = Elasticsearch([os.getenv("ELASTICSEARCH_URL")])
        self.llm = OpenAI(api_key=os.getenv("OPENAI_API_KEY"))
        self.gitlab = gitlab.Gitlab(
            os.getenv("GITLAB_URL"),
            private_token=os.getenv("GITLAB_TOKEN")
        )

    def search_errors(self, time_range: str = "1h", severity: str = "error") -> List[Dict]:
        """
        ä»Elasticsearchæœç´¢é”™è¯¯æ—¥å¿—
        """
        query = {
            "query": {
                "bool": {
                    "must": [
                        {"term": {"severity": severity}},
                        {"range": {"@timestamp": {"gte": f"now-{time_range}"}}}
                    ]
                }
            },
            "aggs": {
                "error_patterns": {
                    "terms": {
                        "field": "fingerprint.keyword",
                        "size": 100
                    },
                    "aggs": {
                        "sample_logs": {
                            "top_hits": {
                                "size": 3,
                                "_source": ["log", "kubernetes", "@timestamp", "stack_trace"]
                            }
                        }
                    }
                }
            },
            "size": 0
        }

        result = self.es.search(index="k8s-logs-*", body=query)
        return result["aggregations"]["error_patterns"]["buckets"]

    def analyze_with_llm(self, error_log: str, stack_trace: str,
                         code_context: str) -> ErrorAnalysis:
        """
        ä½¿ç”¨LLMåˆ†æé”™è¯¯å¹¶ç”Ÿæˆä¿®å¤å»ºè®®
        """
        prompt = f"""ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è½¯ä»¶å·¥ç¨‹å¸ˆï¼Œè¯·åˆ†æä»¥ä¸‹é”™è¯¯æ—¥å¿—å¹¶æä¾›ä¿®å¤æ–¹æ¡ˆã€‚

## é”™è¯¯æ—¥å¿—
```
{error_log}
```

## å †æ ˆè·Ÿè¸ª
```
{stack_trace}
```

## ç›¸å…³ä»£ç ä¸Šä¸‹æ–‡
```
{code_context}
```

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼ˆJSONæ ¼å¼ï¼‰ï¼š
1. root_cause: æ ¹æœ¬åŸå› åˆ†æ
2. affected_file: å—å½±å“çš„æ–‡ä»¶è·¯å¾„
3. affected_line: å—å½±å“çš„ä»£ç è¡Œå·
4. fix_suggestion: ä¿®å¤å»ºè®®çš„è¯¦ç»†è¯´æ˜
5. code_patch: å¯ä»¥ç›´æ¥åº”ç”¨çš„ä»£ç è¡¥ä¸ï¼ˆunified diffæ ¼å¼ï¼‰
6. confidence: ä½ å¯¹è¿™ä¸ªä¿®å¤æ–¹æ¡ˆçš„ç½®ä¿¡åº¦ï¼ˆ0-1ï¼‰

åªè¿”å›JSONï¼Œä¸è¦å…¶ä»–å†…å®¹ã€‚
"""

        response = self.llm.chat.completions.create(
            model="gpt-4-turbo",
            messages=[
                {"role": "system", "content": "ä½ æ˜¯ä¸€ä¸ªä»£ç ä¿®å¤ä¸“å®¶ã€‚"},
                {"role": "user", "content": prompt}
            ],
            response_format={"type": "json_object"}
        )

        result = json.loads(response.choices[0].message.content)

        return ErrorAnalysis(
            error_message=error_log,
            root_cause=result["root_cause"],
            affected_file=result["affected_file"],
            affected_line=result["affected_line"],
            fix_suggestion=result["fix_suggestion"],
            code_patch=result["code_patch"],
            confidence=result["confidence"]
        )

    def get_code_context(self, file_path: str, line_number: int,
                         project_id: int, context_lines: int = 20) -> str:
        """
        ä»GitLabè·å–ä»£ç ä¸Šä¸‹æ–‡
        """
        project = self.gitlab.projects.get(project_id)
        try:
            file_content = project.files.get(file_path, ref='main')
            lines = file_content.decode().decode('utf-8').split('\n')

            start = max(0, line_number - context_lines)
            end = min(len(lines), line_number + context_lines)

            context_lines = []
            for i in range(start, end):
                prefix = ">>> " if i == line_number - 1 else "    "
                context_lines.append(f"{prefix}{i+1}: {lines[i]}")

            return '\n'.join(context_lines)
        except Exception as e:
            return f"æ— æ³•è·å–ä»£ç ä¸Šä¸‹æ–‡: {str(e)}"

    def create_fix_mr(self, analysis: ErrorAnalysis, project_id: int) -> str:
        """
        åœ¨GitLabåˆ›å»ºä¿®å¤MR
        """
        project = self.gitlab.projects.get(project_id)

        # åˆ›å»ºæ–°åˆ†æ”¯
        branch_name = f"auto-fix/{analysis.affected_file.replace('/', '-')}-{int(time.time())}"
        project.branches.create({
            'branch': branch_name,
            'ref': 'main'
        })

        # åº”ç”¨ä»£ç ä¿®æ”¹
        try:
            file = project.files.get(analysis.affected_file, ref='main')
            original_content = file.decode().decode('utf-8')

            # åº”ç”¨patchï¼ˆç®€åŒ–ç‰ˆæœ¬ï¼Œå®é™…åº”ä½¿ç”¨patchåº“ï¼‰
            new_content = self._apply_patch(original_content, analysis.code_patch)

            project.files.update(
                file_path=analysis.affected_file,
                branch=branch_name,
                content=new_content,
                commit_message=f"[Auto-Fix] {analysis.root_cause[:50]}"
            )
        except Exception as e:
            raise Exception(f"æ— æ³•åº”ç”¨ä»£ç ä¿®æ”¹: {str(e)}")

        # åˆ›å»ºMR
        mr = project.mergerequests.create({
            'source_branch': branch_name,
            'target_branch': 'main',
            'title': f'[Auto-Fix] {analysis.root_cause[:80]}',
            'description': f"""## è‡ªåŠ¨ä¿®å¤æŠ¥å‘Š

### é”™è¯¯ä¿¡æ¯
```
{analysis.error_message[:500]}
```

### æ ¹å› åˆ†æ
{analysis.root_cause}

### ä¿®å¤è¯´æ˜
{analysis.fix_suggestion}

### ç½®ä¿¡åº¦
{analysis.confidence * 100:.1f}%

---
âš ï¸ **æ­¤MRç”±AIè‡ªåŠ¨ç”Ÿæˆï¼Œè¯·äººå·¥å®¡æ ¸åå†åˆå¹¶**
""",
            'labels': ['auto-fix', 'needs-review'],
            'assignee_ids': self._get_code_owners(project, analysis.affected_file)
        })

        return mr.web_url

    def _apply_patch(self, original: str, patch: str) -> str:
        """åº”ç”¨unified diffæ ¼å¼çš„è¡¥ä¸"""
        # ç®€åŒ–å®ç°ï¼Œç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨ unidiff æˆ– patch åº“
        import unidiff
        patchset = unidiff.PatchSet(patch)
        # ... åº”ç”¨è¡¥ä¸é€»è¾‘
        return modified_content

    def _get_code_owners(self, project, file_path: str) -> List[int]:
        """è·å–ä»£ç æ‰€æœ‰è€…"""
        # åŸºäºCODEOWNERSæ–‡ä»¶æˆ–git blameè·å–
        return []

    def run_analysis_pipeline(self, project_id: int):
        """
        è¿è¡Œå®Œæ•´çš„åˆ†ææµæ°´çº¿
        """
        print("ğŸ” æ­£åœ¨æœç´¢é”™è¯¯æ—¥å¿—...")
        errors = self.search_errors(time_range="1h")

        for error_bucket in errors:
            sample = error_bucket["sample_logs"]["hits"]["hits"][0]["_source"]
            error_log = sample.get("log", "")
            stack_trace = sample.get("stack_trace", "")

            # ä»å †æ ˆè·Ÿè¸ªä¸­æå–æ–‡ä»¶ä¿¡æ¯
            file_info = self._extract_file_from_stack(stack_trace)
            if not file_info:
                continue

            print(f"ğŸ“„ åˆ†æé”™è¯¯: {error_log[:100]}...")

            # è·å–ä»£ç ä¸Šä¸‹æ–‡
            code_context = self.get_code_context(
                file_info["file"],
                file_info["line"],
                project_id
            )

            # LLMåˆ†æ
            analysis = self.analyze_with_llm(error_log, stack_trace, code_context)

            if analysis.confidence >= 0.8:
                print(f"âœ… é«˜ç½®ä¿¡åº¦ä¿®å¤æ–¹æ¡ˆï¼Œæ­£åœ¨åˆ›å»ºMR...")
                mr_url = self.create_fix_mr(analysis, project_id)
                print(f"ğŸ”— MRå·²åˆ›å»º: {mr_url}")
            else:
                print(f"âš ï¸ ç½®ä¿¡åº¦è¾ƒä½ ({analysis.confidence:.1%})ï¼Œä»…è®°å½•å»ºè®®")
                self._log_suggestion(analysis)

    def _extract_file_from_stack(self, stack_trace: str) -> Optional[Dict]:
        """ä»å †æ ˆè·Ÿè¸ªä¸­æå–æ–‡ä»¶å’Œè¡Œå·"""
        # Pythoné£æ ¼
        python_pattern = r'File "([^"]+)", line (\d+)'
        # Javaé£æ ¼
        java_pattern = r'at .+\(([^:]+):(\d+)\)'
        # JavaScripté£æ ¼
        js_pattern = r'at .+ \(([^:]+):(\d+):\d+\)'

        for pattern in [python_pattern, java_pattern, js_pattern]:
            match = re.search(pattern, stack_trace)
            if match:
                return {"file": match.group(1), "line": int(match.group(2))}
        return None


# ä¸»ç¨‹åº
if __name__ == "__main__":
    analyzer = IntelligentLogAnalyzer()
    analyzer.run_analysis_pipeline(project_id=123)
```

#### 8.4.2 RAGå¢å¼ºçš„ä»£ç æœç´¢

```python
# code_rag.py - ä½¿ç”¨å‘é‡æ•°æ®åº“å¢å¼ºä»£ç æœç´¢
from langchain.embeddings import OpenAIEmbeddings
from langchain.vectorstores import Chroma
from langchain.document_loaders import GitLoader
from langchain.text_splitter import RecursiveCharacterTextSplitter

class CodeRAG:
    """
    ä»£ç æ£€ç´¢å¢å¼ºç”Ÿæˆ - å¸®åŠ©LLMæ›´å‡†ç¡®å®šä½ç›¸å…³ä»£ç 
    """

    def __init__(self, repo_path: str):
        self.embeddings = OpenAIEmbeddings()
        self.repo_path = repo_path
        self.vector_store = None

    def index_codebase(self):
        """ç´¢å¼•ä»£ç åº“"""
        # åŠ è½½ä»£ç æ–‡ä»¶
        loader = GitLoader(
            clone_url=self.repo_path,
            repo_path="./temp_repo",
            file_filter=lambda x: x.endswith(('.py', '.js', '.ts', '.java', '.go'))
        )
        documents = loader.load()

        # åˆ†å‰²ä»£ç 
        splitter = RecursiveCharacterTextSplitter(
            chunk_size=1000,
            chunk_overlap=200,
            separators=["\nclass ", "\ndef ", "\nfunction ", "\n\n", "\n"]
        )
        chunks = splitter.split_documents(documents)

        # åˆ›å»ºå‘é‡å­˜å‚¨
        self.vector_store = Chroma.from_documents(
            documents=chunks,
            embedding=self.embeddings,
            persist_directory="./chroma_db"
        )

    def search_relevant_code(self, error_message: str, k: int = 5) -> List[str]:
        """æ ¹æ®é”™è¯¯ä¿¡æ¯æœç´¢ç›¸å…³ä»£ç """
        if not self.vector_store:
            self.vector_store = Chroma(
                persist_directory="./chroma_db",
                embedding_function=self.embeddings
            )

        results = self.vector_store.similarity_search(error_message, k=k)
        return [doc.page_content for doc in results]
```

### 8.5 å®Œæ•´çš„æ™ºèƒ½æ—¥å¿—å¤„ç†æµæ°´çº¿

```yaml
# docker-compose.yml - æ™ºèƒ½æ—¥å¿—åˆ†æå¹³å°
version: '3.8'

services:
  # Elasticsearché›†ç¾¤
  elasticsearch:
    image: docker.elastic.co/elasticsearch/elasticsearch:8.11.0
    environment:
      - discovery.type=single-node
      - xpack.security.enabled=true
      - xpack.ml.enabled=true
      - "ES_JAVA_OPTS=-Xms2g -Xmx2g"
    volumes:
      - es_data:/usr/share/elasticsearch/data
    ports:
      - "9200:9200"

  # Kibanaå¯è§†åŒ–
  kibana:
    image: docker.elastic.co/kibana/kibana:8.11.0
    environment:
      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200
    ports:
      - "5601:5601"
    depends_on:
      - elasticsearch

  # Fluentdæ—¥å¿—æ”¶é›†
  fluentd:
    build:
      context: ./fluentd
      dockerfile: Dockerfile
    volumes:
      - ./fluentd/conf:/fluentd/etc
      - /var/log:/var/log:ro
    depends_on:
      - elasticsearch

  # æ™ºèƒ½åˆ†ææœåŠ¡
  log-analyzer:
    build:
      context: ./analyzer
      dockerfile: Dockerfile
    environment:
      - ELASTICSEARCH_URL=http://elasticsearch:9200
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - GITLAB_URL=${GITLAB_URL}
      - GITLAB_TOKEN=${GITLAB_TOKEN}
    depends_on:
      - elasticsearch

  # å‘é‡æ•°æ®åº“ (ç”¨äºä»£ç RAG)
  chromadb:
    image: chromadb/chroma:latest
    volumes:
      - chroma_data:/chroma/chroma
    ports:
      - "8000:8000"

  # å®šæ—¶ä»»åŠ¡è°ƒåº¦
  scheduler:
    image: mcuadros/ofelia:latest
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - ./scheduler/config.ini:/etc/ofelia/config.ini
    depends_on:
      - log-analyzer

volumes:
  es_data:
  chroma_data:
```

```ini
# scheduler/config.ini
[job-exec "analyze-errors"]
schedule = @every 30m
container = log-analyzer
command = python intelligent_log_analyzer.py

[job-exec "index-codebase"]
schedule = @daily
container = log-analyzer
command = python code_rag.py --index
```

### 8.6 Elastic AI Assistanté›†æˆ

Elasticsearch 8.x å·²å†…ç½®AIåŠ©æ‰‹ï¼Œæ”¯æŒï¼š

- **æ—¥å¿—è§£é‡Š**: è‡ªåŠ¨è§£é‡Šé”™è¯¯æ—¥å¿—å«ä¹‰
- **å¼‚å¸¸è°ƒæŸ¥**: å¼•å¯¼å¼å¼‚å¸¸æ’æŸ¥
- **RAGçŸ¥è¯†åº“**: ç»“åˆç»„ç»‡æ–‡æ¡£å›ç­”é—®é¢˜
- **Runbookæ¨è**: æ¨èç›¸å…³çš„è¿ç»´æ‰‹å†Œ

```json
// é…ç½®Elastic AI Assistant
PUT _inference/chat_completion/my-openai-completion
{
  "service": "openai",
  "service_settings": {
    "api_key": "<API_KEY>",
    "model_id": "gpt-4-turbo"
  }
}
```

---

## 9. è‡ªæ„ˆç³»ç»Ÿ (Self-Healing)

### 9.1 è‡ªæ„ˆç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        è‡ªæ„ˆç³»ç»Ÿé—­ç¯                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚    â”‚  ç›‘æ§    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚    â”‚  ç³»ç»Ÿ    â”‚                                      â”‚             â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                      â”‚             â”‚
â”‚         â”‚ æ£€æµ‹å¼‚å¸¸                                    â”‚             â”‚
â”‚         â–¼                                            â”‚             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚             â”‚
â”‚    â”‚ AIOps    â”‚                                      â”‚             â”‚
â”‚    â”‚ åˆ†æå¼•æ“  â”‚                                      â”‚             â”‚
â”‚    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                      â”‚             â”‚
â”‚         â”‚ è¯Šæ–­æ ¹å›                                     â”‚             â”‚
â”‚         â–¼                                            â”‚             â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚             â”‚
â”‚    â”‚ å†³ç­–å¼•æ“  â”‚â”€â”€â”€â”€â–¶â”‚ ä¿®å¤æ–¹æ¡ˆ  â”‚â”€â”€â”€â”€â–¶â”‚ è‡ªåŠ¨æ‰§è¡Œ  â”‚â”€â”€â”€â”˜             â”‚
â”‚    â”‚          â”‚     â”‚ ç”Ÿæˆ      â”‚     â”‚ (å¯é…ç½®)  â”‚                â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                            â”‚                        â”‚
â”‚                                            â–¼                        â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                                    â”‚ äººå·¥å®¡æ‰¹     â”‚                â”‚
â”‚                                    â”‚ (é«˜é£é™©æ“ä½œ)  â”‚                â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 Kubernetesè‡ªæ„ˆé…ç½®

```yaml
# deployment-with-self-healing.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 3
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
        - name: my-app
          image: myapp:latest

          # å­˜æ´»æ¢é’ˆ - æ£€æµ‹å®¹å™¨æ˜¯å¦éœ€è¦é‡å¯
          livenessProbe:
            httpGet:
              path: /health/live
              port: 8080
            initialDelaySeconds: 30
            periodSeconds: 10
            failureThreshold: 3

          # å°±ç»ªæ¢é’ˆ - æ£€æµ‹å®¹å™¨æ˜¯å¦å¯ä»¥æ¥æ”¶æµé‡
          readinessProbe:
            httpGet:
              path: /health/ready
              port: 8080
            initialDelaySeconds: 5
            periodSeconds: 5
            failureThreshold: 3

          # å¯åŠ¨æ¢é’ˆ - æ£€æµ‹å®¹å™¨æ˜¯å¦å¯åŠ¨å®Œæˆ
          startupProbe:
            httpGet:
              path: /health/startup
              port: 8080
            failureThreshold: 30
            periodSeconds: 10

          resources:
            requests:
              memory: "256Mi"
              cpu: "250m"
            limits:
              memory: "512Mi"
              cpu: "500m"

---
# HPA - è‡ªåŠ¨æ°´å¹³æ‰©ç¼©å®¹
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: my-app-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: my-app
  minReplicas: 2
  maxReplicas: 10
  metrics:
    - type: Resource
      resource:
        name: cpu
        target:
          type: Utilization
          averageUtilization: 70
    - type: Resource
      resource:
        name: memory
        target:
          type: Utilization
          averageUtilization: 80

---
# PDB - é˜²æ­¢è¿‡å¤šPodåŒæ—¶ä¸å¯ç”¨
apiVersion: policy/v1
kind: PodDisruptionBudget
metadata:
  name: my-app-pdb
spec:
  minAvailable: 2
  selector:
    matchLabels:
      app: my-app
```

### 9.3 è‡ªåŠ¨å›æ»šé…ç½®

```yaml
# ArgoCDè‡ªåŠ¨å›æ»š
apiVersion: argoproj.io/v1alpha1
kind: Rollout
metadata:
  name: my-app
spec:
  replicas: 5
  strategy:
    canary:
      steps:
        - setWeight: 20
        - pause: {duration: 5m}
        - setWeight: 50
        - pause: {duration: 5m}
        - setWeight: 80
        - pause: {duration: 5m}

      # è‡ªåŠ¨å›æ»šæ¡ä»¶
      analysis:
        templates:
          - templateName: success-rate
        startingStep: 2
        args:
          - name: service-name
            value: my-app

---
# åˆ†ææ¨¡æ¿
apiVersion: argoproj.io/v1alpha1
kind: AnalysisTemplate
metadata:
  name: success-rate
spec:
  args:
    - name: service-name
  metrics:
    - name: success-rate
      interval: 1m
      successCondition: result[0] >= 0.95
      failureLimit: 3
      provider:
        prometheus:
          address: http://prometheus:9090
          query: |
            sum(rate(http_requests_total{
              service="{{args.service-name}}",
              status=~"2.."
            }[5m])) /
            sum(rate(http_requests_total{
              service="{{args.service-name}}"
            }[5m]))
```

### 9.4 ä¼ä¸šçº§è‡ªæ„ˆå¹³å°

| å¹³å° | æ ¸å¿ƒèƒ½åŠ› | é›†æˆ |
|------|----------|------|
| **Dynatrace Davis** | å…¨æ ˆç›‘æ§ã€è‡ªåŠ¨æ ¹å› åˆ†æã€æ™ºèƒ½å‘Šè­¦ | ServiceNow, PagerDuty, AWS Lambda |
| **Splunk ITSI** | MLæ¨¡å¼æ£€æµ‹ã€äº‹ä»¶å…³è”ã€é¢„æµ‹åˆ†æ | ServiceNow, Ansible |
| **PagerDuty AIOps** | äº‹ä»¶èšåˆã€æ™ºèƒ½è·¯ç”±ã€è‡ªåŠ¨å“åº” | 400+é›†æˆ |
| **BigPanda** | äº‹ä»¶å…³è”ã€æ ¹å› åˆ†æã€è‡ªåŠ¨åŒ–å·¥ä½œæµ | ä¸»æµç›‘æ§å·¥å…· |

---

## 10. æ€»ç»“ä¸å·¥å…·é€‰å‹å»ºè®®

### 10.1 è‡ªåŠ¨åŒ–æˆç†Ÿåº¦æ¨¡å‹

```
Level 5: è‡ªæ„ˆç³»ç»Ÿ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ ç›®æ ‡
         â”‚ ç‰¹å¾: ç³»ç»Ÿè‡ªä¸»æ£€æµ‹ã€è¯Šæ–­ã€ä¿®å¤é—®é¢˜
         â”‚ å·¥å…·: Dynatrace, è‡ªç ”æ™ºèƒ½å¹³å°
         â”‚
Level 4: AIOps â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ é¢†å…ˆ
         â”‚ ç‰¹å¾: AIé©±åŠ¨çš„å¼‚å¸¸æ£€æµ‹ã€æ ¹å› åˆ†æã€ä¿®å¤å»ºè®®
         â”‚ å·¥å…·: Datadog AIOps, Elastic ML, æ™ºèƒ½æ—¥å¿—åˆ†æ
         â”‚
Level 3: å…¨æµç¨‹è‡ªåŠ¨åŒ– â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ æˆç†Ÿ
         â”‚ ç‰¹å¾: CI/CD + å®‰å…¨æ‰«æ + è‡ªåŠ¨åŒ–æµ‹è¯• + GitOps
         â”‚ å·¥å…·: GitHub Actions, ArgoCD, SonarQube, Trivy
         â”‚
Level 2: éƒ¨åˆ†è‡ªåŠ¨åŒ– â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ å‘å±•ä¸­
         â”‚ ç‰¹å¾: CI/CDæµæ°´çº¿ã€åŸºç¡€ç›‘æ§
         â”‚ å·¥å…·: Jenkins, Prometheus, ELK
         â”‚
Level 1: æ‰‹åŠ¨è¿ç»´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ èµ·æ­¥
         ç‰¹å¾: æ‰‹åŠ¨éƒ¨ç½²ã€æ‰‹åŠ¨æµ‹è¯•ã€è¢«åŠ¨å“åº”
```

### 10.2 å·¥å…·é€‰å‹çŸ©é˜µ

| é¢†åŸŸ | å°å›¢é˜Ÿæ¨è | ä¸­å‹å›¢é˜Ÿæ¨è | å¤§å‹ä¼ä¸šæ¨è |
|------|-----------|-------------|-------------|
| **CI/CD** | GitHub Actions | GitLab CI | Jenkins + ArgoCD |
| **ä»£ç å®¡æŸ¥** | GitHub Copilot | CodeRabbit | SonarQube + CodeRabbit |
| **æµ‹è¯•** | Jest/pytest | Playwright + Tusk | Katalon + Diffblue |
| **IaC** | Terraform Cloud | Terraform + GitOps | Pulumi + Crossplane |
| **å®‰å…¨** | GitHub Security | Snyk + Trivy | SonarQube + Checkmarx |
| **ç›‘æ§** | Grafana Cloud | Datadog | Dynatrace |
| **æ—¥å¿—** | Loki | ELK Stack | Elastic + AIå¢å¼º |
| **è‡ªæ„ˆ** | K8såŸç”Ÿ | ArgoCD Rollouts | è‡ªç ” + Dynatrace |

### 10.3 å…³é”®å®æ–½å»ºè®®

1. **æ¸è¿›å¼å®æ–½**: ä»CI/CDå¼€å§‹ï¼Œé€æ­¥æ·»åŠ å®‰å…¨ã€æµ‹è¯•ã€ç›‘æ§èƒ½åŠ›
2. **åº¦é‡é©±åŠ¨**: å»ºç«‹DORAæŒ‡æ ‡ï¼ˆéƒ¨ç½²é¢‘ç‡ã€å˜æ›´å‰ç½®æ—¶é—´ã€MTTRã€å˜æ›´å¤±è´¥ç‡ï¼‰
3. **å®‰å…¨å·¦ç§»**: å°†å®‰å…¨æ£€æŸ¥é›†æˆåˆ°å¼€å‘æµç¨‹æœ€æ—©æœŸ
4. **å¹³å°æ€ç»´**: æ„å»ºå†…éƒ¨å¼€å‘è€…å¹³å°(IDP)ï¼Œæä¾›è‡ªåŠ©æœåŠ¡èƒ½åŠ›
5. **AIå¢å¼º**: ç§¯ææ‹¥æŠ±AIå·¥å…·ï¼Œä½†ä¿æŒäººå·¥å®¡æ ¸ä½œä¸ºå®‰å…¨ç½‘

---

## å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [Elasticsearch Machine Learning](https://www.elastic.co/guide/en/machine-learning/current/index.html)
- [ArgoCD Documentation](https://argo-cd.readthedocs.io/)
- [Prometheus Alerting](https://prometheus.io/docs/alerting/latest/overview/)

### è¡Œä¸šæŠ¥å‘Š
- [DORA State of DevOps Report 2025](https://dora.dev/)
- [Gartner AIOps Market Guide](https://www.gartner.com/)

### ç¤¾åŒºæœ€ä½³å®è·µ
- [DevOps Trends 2025-2026](https://graphite.com/guides/devops-trends-2025-devsecops-aiops)
- [AI in DevOps](https://devops.com/ai-and-ml-in-devops-transforming-ci-cd-pipelines-into-intelligent-autonomous-workflows/)
- [Self-Healing Systems Research](https://arxiv.org/abs/2504.20093)

---

*æ–‡æ¡£æ›´æ–°æ—¥æœŸ: 2026-01-19*
*ç‰ˆæœ¬: 1.0*
